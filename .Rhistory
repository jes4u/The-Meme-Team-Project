g <- list(
scope = 'usa',
projection = list(type = 'albers usa'),
showlakes = TRUE,
lakecolor = toRGB('white')
)
p <- plot_geo(shooting_data, locationmode = 'USA-states') %>%
add_markers(
y = ~lat, x = ~lng, locations = ~city,
size = ~total,color = random, text = ~paste0("Casualties: ", killed, " Injured: ", injured) #
) %>%
#  add_trace(
#    data = shooting_data$total, z = ~date, locations = ~city
#  ) %>%
layout(
title = '2016 US Shooting Incidents',
geo = g
)
p <- plot_geo(shooting_data, locationmode = 'USA-states') %>%
add_markers(
y = ~lat, x = ~lng, locations = ~city,
size = ~total, text = ~paste0("Casualties: ", killed, " Injured: ", injured) #,color = random
) %>%
#  add_trace(
#    data = shooting_data$total, z = ~date, locations = ~city
#  ) %>%
layout(
title = '2016 US Shooting Incidents',
geo = g
)
p
View(shooting_data)
library(tidyr)
View(shooting_data)
View(shooting_data)
shiny::runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/exercise-2')
iris <- data("iris")
iris
#a8
library(shiny)
library(dplyr)
iris <- data("iris")
is.data.frame(iris)
iris <- data.frame("iris")
iris <- data.frame(iris)
iris <- data("iris")
data("iris")
iris <- data("iris")
x <- data("USPersonalExpenditure")
is.data.frame(x)
var <- data.frame(USPersonalExpenditure)
iris.data <- data.frame("iris")
View(iris.data)
View(iris.data)
iris.data <- data.frame(iris)
View(iris.data)
View(iris.data)
runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/exercise-4')
runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/exercise-4')
runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/demo-1')
runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/demo-2')
runApp('C:/Users/Jesse/Desktop/AUT16/INFO 201/Modules/m14-shiny/demo-3')
install.packages("Rfacebook")
library(jsonlite)
library(dplyr)
library(dplyr)
library(shiny)
library(Rfacebook)
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
app_id <- "1850413891841129"
fbOAuth(app_id, app_secret, extended_permissions = FALSE,
legacy_permissions = FALSE)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fbOAuth(app_id, app_secret, extended_permissions = FALSE,
legacy_permissions = FALSE)
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fbOAuth(app_id, app_secret, extended_permissions = TRUE,
legacy_permissions = FALSE)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
clear
fb_oauth <- fbOAuth(app_id, app_secret)
token <- 'EAACEdEose0cBAG7QnBjZBpo0XnWb7oxbRpb6kkm2nDZCtj7NWdL2ANx2NtuplvCo7TaZAqkyWb3N0dWq8PykfDI0Vta7EOFmuLhOJflSpnvgezPwsrFWzCFMTBVcih6WrVE5TkoCU6LWHI55C1r0bzDgRGwMuZAZCZAiWmfh8lqQZDZD'
my_likes <- getLikes(user="me", token=token)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
token <- 'EAACEdEose0cBAG7QnBjZBpo0XnWb7oxbRpb6kkm2nDZCtj7NWdL2ANx2NtuplvCo7TaZAqkyWb3N0dWq8PykfDI0Vta7EOFmuLhOJflSpnvgezPwsrFWzCFMTBVcih6WrVE5TkoCU6LWHI55C1r0bzDgRGwMuZAZCZAiWmfh8lqQZDZD'
my_likes <- getLikes(user="me", token=token)
View(my_likes)
View(my_likes)
callAPI()
callAPI(token)
callAPI(token = token)
callAPI(token == token)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
View(my_likes)
View(my_likes)
fb <- getUsers("me", token)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
token <- 'EAACEdEose0cBAG7QnBjZBpo0XnWb7oxbRpb6kkm2nDZCtj7NWdL2ANx2NtuplvCo7TaZAqkyWb3N0dWq8PykfDI0Vta7EOFmuLhOJflSpnvgezPwsrFWzCFMTBVcih6WrVE5TkoCU6LWHI55C1r0bzDgRGwMuZAZCZAiWmfh8lqQZDZD'
fb <- getUsers("me", token)
View(fb)
View(fb)
token <- 'EAACEdEose0cBAG7QnBjZBpo0XnWb7oxbRpb6kkm2nDZCtj7NWdL2ANx2NtuplvCo7TaZAqkyWb3N0dWq8PykfDI0Vta7EOFmuLhOJflSpnvgezPwsrFWzCFMTBVcih6WrVE5TkoCU6LWHI55C1r0bzDgRGwMuZAZCZAiWmfh8lqQZDZD'
fb <- getUsers("me", token)
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
token <- 'EAACEdEose0cBAG7QnBjZBpo0XnWb7oxbRpb6kkm2nDZCtj7NWdL2ANx2NtuplvCo7TaZAqkyWb3N0dWq8PykfDI0Vta7EOFmuLhOJflSpnvgezPwsrFWzCFMTBVcih6WrVE5TkoCU6LWHI55C1r0bzDgRGwMuZAZCZAiWmfh8lqQZDZD'
fb <- getUsers("me", token)
my_likes <- getLikes(user="me", token=token)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
facebook <-  function( path = "me", access_token = token, options){
if( !missing(options) ){
options <- sprintf( "?%s", paste( names(options), "=", unlist(options), collapse = "&", sep = "" ) )
} else {
options <- ""
}
url <- sprintf( "https://graph.facebook.com/%s%s&access_token=%s", path, options, access_token )
# print(url)
data <- getURL( url )
fromJSON( data )
}
View(facebook)
View(facebook)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
save(fb_oauth, file="fb_oauth")
load("fb_oauth")
me <- getUsers("me", token=fb_oauth)
me$username
View(me)
View(me)
app_id <- "jesse.tran.5"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
app_id
app_id <- "1850413891841129"
david <- getPage("davis.huynh", fb_oauth, n=1)
david <- getPage("davis.huynh?fref=ts", fb_oauth, n=1)
david <- getPage("barackobama", fb_oauth, n=1)
View(david)
View(david)
david <- getLikes("barackobama", token = fb_oauth, n=1)
View(david)
View(david)
View(david)
View(david)
View(david)
View(david)
myfriends <- getFriends("me", token=fb_oauth)
myfriends <- getFriends(fb_oauth, simplify=TRUE)
myfriends <- getFriends(fb_oauth, simplify=TRUE)
davis <- getLikes("14068282_1351796344833785_8328134685025659966_n.jpg?oh=1cd6e6bfbd8a6f99f0dad98bc44a7fed&oe=58C925C1", token = fb_oauth, n=1)
davis <- getLikes("1cd6e6bfbd8a6f99f0dad98bc44a7fed&oe=58C925C1", token = fb_oauth, n=1)
davis <- getLikes("58C925C1", token = fb_oauth, n=1)
obamaLikes <- getLikes("barackobama", token = fb_oauth, n=1)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
save(fb_oauth, file="fb_oauth")
load("fb_oauth")
me <- getUsers("me", token=fb_oauth)
me$username
obamaLikes <- getLikes("barackobama", token = fb_oauth, n=1)
davisLikes <- getLikes("CC4wg5poBl4", token = fb_oauth, n=1)
davisLikes <- getLikes("BUT5R2pTEqO", token = fb_oauth, n=1)
davisLikes <- getLikes("Hf9zsf4MuhP", token = fb_oauth, n=1)
fb <- getUsers("me", token=fb_oauth)
View(fb)
View(fb)
davisLikes <- getLikes("davis.huynh", token = fb_oauth, n=1)
davisLikes <- getUsers("davis.huynh", token = fb_oauth, n=1)
davisLikes <- getUsers("davis.huynh", token = fb_oauth)
davisLikes <- getUsers("barackobama", token = fb_oauth)
davisLikes <- getUsers("barackobama", token = fb_oauth, n=2)
likes <- getUsers("https://www.facebook.com/davis.huynh", token = fb_oauth, n=2)
likes <- getUsers("https://www.facebook.com/davis.huynh", token = fb_oauth)
getPage("jesse.tran.5", token, n = 25, since = NULL, until = NULL, feed = FALSE,
reactions = FALSE)
getPage("jesse.tran.5", token = fb_oauth, n = 25, since = NULL, until = NULL, feed = FALSE,
reactions = FALSE)
getPage("barackobama", token = fb_oauth, n = 25, since = NULL, until = NULL, feed = FALSE,
reactions = FALSE)
clear
obamaPage <- getPage("barackobama", token = fb_oauth, n = 25, since = NULL, until = NULL, feed = FALSE,
reactions = FALSE)
View(obamaPage)
View(obamaPage)
View(obamaLikes)
View(obamaLikes)
my_friends <- getFriends(token = fb_oauth, simplify = TRUE)
?getFriends
friend <- getUsers("barackobama", token = fb_oauth)
friend <- getUsers("https://www.facebook.com/barackobama", token = fb_oauth)
fb <- getUsers("1407035546026833", token=fb_oauth)
#Created by Jesse:
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
library(Rfacebook)
app_id <- "1850413891841129"
app_secret <- "ab5f53447ef88db9107fb74f94c7e9b8"
fb_oauth <- fbOAuth(app_id, app_secret)
save(fb_oauth, file="fb_oauth")
load("fb_oauth")
me <- getUsers("me", token=fb_oauth)
me$username
fb <- getUsers("1407035546026833", token=fb_oauth)
View(fb)
View(fb)
install.packages("curlconverter")
library(curlconverter)
fb <- getUsers("100000102962883", token=fb_oauth)
View(fb)
View(fb)
fb <- getLikes("100000102962883", token=fb_oauth)
fb <- getLikes("100000102962883", token=fb_oauth, n=1)
fb <- getLikes("100000102962883", n = 500 , token=fb_oauth)
fb <- getLikes("100000102962883", n = 5 , token=fb_oauth)
friend <- getUserID("https://www.facebook.com/barackobama", token = fb_oauth)
friend <- getUsers("https://www.graph.facebook.com/barackobama", token = fb_oauth)
friend <- getUsers("barackobama", token = fb_oauth)
friend <- getUsers("graph.facebook.com/barackobama", token = fb_oauth)
fb <- getLikes("100000102962883", n = 5 , token=fb_oauth)
friend <- getUsers("graph.facebook.com/barackobama", token = 1407035546026833)
curlExample <- "curl -X GET --header 'Accept: application/json' --header 'Authorization:1407035546026833' 'https://graph.facebook.com/barackobama'"
curlExample
library(curlconverter)
curlExample <- "curl -X GET --header 'Accept: application/json' --header 'Authorization:1407035546026833' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"), pretty=TRUE)
library(curlconverter)
curlExample <-"curl -X GET --header 'Accept: application/json' --header 'Authorization:1407035546026833' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"), pretty=TRUE)
toJSON(content(resp[[1]](),as="parsed"))
curlExample <-"curl -X GET --header 'Accept: application/json' --header 'Authorization: fb_oauth' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"))
curlExample <-"curl -X GET --header 'Accept: application/json' --header 'Authorization:oAuth 1407035546026833' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"))
curlExample <-"curl -X GET --header 'Accept: application/json' --header 'Authorization:OAuth 1407035546026833' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"))
curlExample <-"curl -X GET --header 'Accept: application/json' --header 'Authorization:OAuth fb_oauth' 'https://graph.facebook.com/barackobama'"
resp <- make_req(straighten(curlExample))
resp
toJSON(content(resp[[1]](),as="parsed"))
#U
library(jsonlite)
library(dplyr)
library(shiny)
library(dplyr)
AMS <- fromJSON(api_key)
api_key <- "http://api-v2.applymagicsauce.com/auth"
AMS <- fromJSON(api_key)
x-auth-token <- fromJSON("http://api-v2.applymagicsauce.com/auth")
install.packages("curl")
library(curl)
library(curl)
api_key <- curl(url = "http://api-v2.applymagicsauce.com/auth", open = "", handle = new_handle())
x-auth-token <- fromJSON(api_key)
api_key <- curl(url = "http://api-v2.applymagicsauce.com/auth", open = "r", handle = new_handle())
api_key <- curl(url = "http://api-v2.applymagicsauce.com/auth", open = "r", handle = new_handle())
api_key <- curl(url = "http://api-v2.applymagicsauce.com/auth", open = "rb", handle = new_handle())
api_key <- curl(url = "http://api-v2.applymagicsauce.com/auth", open = "", handle = new_handle())
x-auth-token <- fromJSON(api_key)
library(jsonlite)
library(dplyr)
library(shiny)
library(httr)
library(devtools)
library(twitteR)
user1 <- '@realDonaldTrump'
user2 <- '@barrecan'
t_api_key <- "RIXgPEn59oOUm2qn5WBQX2sW1"
t_api_secret <- "70qPb7pp7mQCOjRPU3jP7kxhu4N91vavVupBvih08Bp3aHrkXN"
t_access_token <- "4081108513-Lj3BaXetniCt09A1uvn4U5YFZGSM1JQHiyapjfq"
t_access_token_secret <- "S1YtKDOJIXDj2ARejfFv3tbx8OmBVFUHgStiCoLBdwOGr"
SetupTwitterOauth <- function() {
setup_twitter_oauth(t_api_key,
t_api_secret,
t_access_token,
t_access_token_secret)
}
SetupTwitterOauth()
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
getWordMap(@realDonaldTrump)
getWordMap <- function(user) {
shorten_tweet <- substr(GetTweets(user), start = 0, stop = 10000)
cloud <- wordcloud(words=shorten_tweet,
scale=c(4,.5),
min.freq = 1,
max.words = Inf,
random.order=FALSE,
rot.per=0.35,
use.r.layout=FALSE,
colors=randomColor()
)
return(cloud)
}
getWordMap("@realDonaldTrump")
source('./getData.r')
library(wordcloud)
library(randomcoloR)
library(RColorBrewer)
library(tm)
getWordMap <- function(user) {
shorten_tweet <- substr(GetTweets(user), start = 0, stop = 10000)
cloud <- wordcloud(words=shorten_tweet,
scale=c(4,.5),
min.freq = 1,
max.words = Inf,
random.order=FALSE,
rot.per=0.35,
use.r.layout=FALSE,
colors=randomColor()
)
return(cloud)
}
getWordMap("@realDonaldTrump")
library(jsonlite)
library(dplyr)
library(shiny)
library(httr)
library(devtools)
library(twitteR)
getData <- function(){
#Twitter#######################################################################
###Remove when finished###
t_api_key <- "RIXgPEn59oOUm2qn5WBQX2sW1"
t_api_secret <- "70qPb7pp7mQCOjRPU3jP7kxhu4N91vavVupBvih08Bp3aHrkXN"
t_access_token <- "4081108513-Lj3BaXetniCt09A1uvn4U5YFZGSM1JQHiyapjfq"
t_access_token_secret <- "S1YtKDOJIXDj2ARejfFv3tbx8OmBVFUHgStiCoLBdwOGr"
########### Comment out
setup_twitter_oauth(t_api_key,
t_api_secret,
t_access_token,
t_access_token_secret)
### gettweets og place
#AMS###########################################################################
###Remove when finished###
ams_base <- "http://api-v2.applymagicsauce.com/"
ams_customer_id <- '2557'
ams_api_key <- 'hb2r82i8saloj1ectsfsi5omlq'
#Initial Auth
ams_auth_req <- POST(paste0(ams_base, "auth"),
add_headers("Content-Type"="application/json"),
body = '{"customer_id": 2557,
"api_key": "hb2r82i8saloj1ectsfsi5omlq"}')
if (ams_auth_req$status_code != 200) {
print("Bad key/id")
}
token <- content(ams_auth_req)$token
#Sends POST request to AMS
#Handles token regenation
#Takes auth token and concatenated tweets for a user as parameters
RequestAMS <- function(token='uuj6skmeji1km2ecodfv0nsptf', tweets) {
request <- POST(paste0(ams_base, "text?", "source=TWEET", "&interpretations=true"),
add_headers("X-Auth-Token"=token,
"Content-type"="application/json"),
body=tweets)
if (request$status_code == 403) {
###Redundant, find more elegant solution###
ams_auth_req <- POST(paste0(ams_base, "auth"),
add_headers("Content-Type"="application/json"),
body = '{"customer_id": 2557,
"api_key": "hb2r82i8saloj1ectsfsi5omlq"}')
if (ams_auth_req$status_code != 200) {
return("Bad key/id")
} else {
token <- content(ams_auth_req)$token
request <- RequestAMS(token, tweets)
}
}
return(request)
}
}
#Get data for a user
GetData <- function(user) {
tweets <- GetTweets(user)
resp <- RequestAMS(token, tweets)
return(content(resp))
}
#Get the shitty predictions df
GetPredDF <- function(data) {
return(as.data.frame(data$predictions))
}
#Get the shitty interpretations df
GetIntDF <- function(data) {
return(as.data.frame(data$interpretations))
}
#Get Tweets by twitter handle
GetTweets <- function(t_handle) {
t_user <- getUser(t_handle)
timeline <- userTimeline(t_user)
tweets <- c()
for (i in seq(length(timeline))) {
tweets <- c(tweets, timeline[[i]]$text)
}
return(toString(tweets))
}
source('./getData.r')
library(wordcloud)
library(randomcoloR)
library(RColorBrewer)
library(tm)
getWordMap <- function(user) {
shorten_tweet <- substr(GetTweets(user), start = 0, stop = 10000)
cloud <- wordcloud(words=shorten_tweet,
scale=c(4,.5),
min.freq = 1,
max.words = Inf,
random.order=FALSE,
rot.per=0.35,
use.r.layout=FALSE,
colors=randomColor()
)
return(cloud)
}
getWordMap("@realDonaldTrump")
getData()
source('./getData.r')
library(wordcloud)
library(randomcoloR)
library(RColorBrewer)
library(tm)
getWordMap <- function(user) {
shorten_tweet <- substr(GetTweets(user), start = 0, stop = 10000)
cloud <- wordcloud(words=shorten_tweet,
scale=c(4,.5),
min.freq = 1,
max.words = Inf,
random.order=FALSE,
rot.per=0.35,
use.r.layout=FALSE,
colors=randomColor()
)
return(cloud)
}
getWordMap("@realDonaldTrump")
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
getData()
getData()
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
getData()
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
shiny::runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
runApp('C:/Users/Jesse/Desktop/The-Meme-Team-Project')
